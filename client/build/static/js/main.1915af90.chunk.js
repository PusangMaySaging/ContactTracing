(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(28),r=a.n(c),i=a(3),l=(a(84),a.p+"static/media/mobile.41ed055e.svg"),o=a.p+"static/media/Reading.1c6d3bd8.svg",j=a(14),u=a(1);var b=function(e){var t=Object(n.useState)(!0),a=Object(i.a)(t,2),s=a[0],c=a[1];return Object(n.useEffect)((function(){function e(){window.innerWidth>=810?c(!1):c(!0)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{className:"home-header",children:Object(u.jsx)("span",{className:"blue-clr",children:"Campus"})}),Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)("div",{className:"section-1",children:Object(u.jsxs)("div",{className:"section-wrapper",children:[Object(u.jsxs)("div",{className:"home-texts",children:[Object(u.jsx)("div",{className:"home-title",children:Object(u.jsx)("span",{className:"yl-clr",children:"Welcome! Student"})}),Object(u.jsx)("div",{className:"home-subtitle",children:Object(u.jsx)("span",{className:"blue-clr",children:"You can now easily access school facilities using this web application. We monitor your movement in school campus to make sure you are safe and informed."})})]}),Object(u.jsxs)("div",{className:"CTA",children:[Object(u.jsx)(j.b,{to:"/signin",className:"blue-bg default-clr",children:"Sign In "}),Object(u.jsx)(j.b,{to:"signup",className:"cta-border blue-clr",children:"Sign Up"})]})]})}),Object(u.jsx)("div",{className:"section-2",children:s&&window.innerWidth<810?Object(u.jsx)("img",{src:l,alt:"background"}):Object(u.jsx)("img",{src:o,alt:"person",className:"illustration"})})]})]})},d=a(4),p=a.n(d),m=a(8),O=a(16),h=a(9),f=a(33),x=(a(47),a(13)),g=a(7),v=a.n(g),N={domain:"http://localhost:5000"},w=Object(n.createContext)(),y=function(e){var t=Object(n.useState)(!0),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(1),l=Object(i.a)(r,2),o=l[0],j=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(N.domain,"/Auth"),{withCredentials:!0});case 2:t=e.sent,a=t.data,localStorage.setItem("auth",JSON.stringify(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),c(!1)}),[o]),Object(u.jsx)(w.Provider,{value:[o,j],children:s?Object(u.jsx)(u.Fragment,{}):e.children})};var C=function(e){Object(f.a)(e);var t=Object(n.useState)({}),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useContext)(w),l=Object(i.a)(r,2),o=(l[0],l[1]),b=Object(n.useRef)();function d(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},a,n))}))}function g(){return(g=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("".concat(N.domain,"/signin"),s,{headers:{"Content-Type":"application/json"},withCredentials:!0});case 3:"OK"===e.sent.data.message?(localStorage.setItem("auth",JSON.stringify({bool:!0,role:"Client"})),o((function(e){return e+1}))):b.current.style.display="inline",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return JSON.parse(localStorage.getItem("auth")).bool||"Client"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsx)(x.a,{to:"/dashboard"}):Object(u.jsx)("div",{className:"sign-in",children:Object(u.jsxs)("div",{className:"form-wrapper",children:[Object(u.jsx)("div",{className:"form-title",children:Object(u.jsx)("span",{children:"Sign In"})}),Object(u.jsxs)("form",{className:"form-form",children:[Object(u.jsx)("span",{className:"error-message warn",ref:b,children:"Invalid Username or Password"}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Email or Mobile Number"}),Object(u.jsx)("input",{type:"email",name:"username",className:"input signin-input bg1",onChange:d,required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",className:"input signin-input bg1",onChange:d,required:!0})]}),Object(u.jsx)("div",{className:"no-account",children:Object(u.jsx)(j.b,{to:"/signup",children:"Don't have an account? Sign Up"})}),Object(u.jsx)("div",{className:"btn-wrapper",children:Object(u.jsx)("button",{type:"button",onClick:function(){return g.apply(this,arguments)},className:"btn signin-btn blue-bg default-clr",children:"Sign In"})})]})]})})};var S=function(e){var t=e.handleFormData,a=e.incrementSteps,s=e.showValid,c=e.showInvalid,r=Object(n.useState)({email:!1,password:!1,confirmPassword:!1}),l=Object(i.a)(r,2),o=l[0],b=l[1],d=Object(n.useRef)(),O=Object(n.useRef)(),f=Object(n.useRef)(),x=Object(n.useRef)(),g=Object(n.useRef)();function w(){return(w=Object(m.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},a=t.target.value,s(t,f),!n(a)){e.next=12;break}return s(t,O),b((function(e){return Object(h.a)(Object(h.a)({},e),{},{email:!0})})),e.next=8,v.a.post("".concat(N.domain,"/validateEmailIfTaken"),{email:a});case 8:e.sent.data&&(c(t,f),b((function(e){return Object(h.a)(Object(h.a)({},e),{},{email:!1})}))),e.next=14;break;case 12:c(t,O),b((function(e){return Object(h.a)(Object(h.a)({},e),{},{email:!1})}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"sign-up",children:[Object(u.jsxs)("ol",{className:"steps",children:[Object(u.jsx)("li",{className:"stepOne blue-bg default-clr active",children:"1. Account"}),Object(u.jsx)("li",{className:"stepTwo",children:"2. Information"}),Object(u.jsx)("li",{className:"stepThree",children:"3. Confirmation"})]}),Object(u.jsxs)("div",{className:"form-wrapper",children:[Object(u.jsx)("div",{className:"form-title",children:Object(u.jsx)("span",{children:"Let's setup your user account details"})}),Object(u.jsxs)("form",{className:"form-form",children:[Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Email"}),Object(u.jsx)("input",{type:"email",onChange:t,onInput:function(e){return w.apply(this,arguments)},className:"input signin-input bg1",name:"email",required:!0}),Object(u.jsx)("span",{className:"error-message",ref:f,children:"Email already taken"}),Object(u.jsx)("span",{className:"error-message",ref:O,children:"Invalid email address"})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Password"}),Object(u.jsx)("input",{type:"password",onChange:t,onInput:function(e){e.target.value.length>=8?(s(e,x),b((function(e){return Object(h.a)(Object(h.a)({},e),{},{password:!0})}))):(c(e,x),b((function(e){return Object(h.a)(Object(h.a)({},e),{},{password:!1})})))},ref:g,className:"input signin-input  bg1",name:"password",required:!0}),Object(u.jsx)("span",{className:"error-message",ref:x,children:"Password must be atleast 8 characters"})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Confirm password"}),Object(u.jsx)("input",{type:"password",onInput:function(e){var t=e.target,a=[t,g.current];g.current.value===t.value?(s(a,d),b((function(e){return Object(h.a)(Object(h.a)({},e),{},{confirmPassword:!0})}))):(c(a,d),b((function(e){return Object(h.a)(Object(h.a)({},e),{},{confirmPassword:!1})})))},className:"input signin-input bg1",name:"confirmPassword",required:!0}),Object(u.jsx)("span",{className:"error-message",ref:d,children:"Passwords did not match"})]}),Object(u.jsx)("div",{className:"have-account",children:Object(u.jsx)(j.b,{to:"/signin",children:"Already have an account? Sign In"})}),Object(u.jsx)("div",{className:"btn-wrapper",children:Object(u.jsx)("button",{type:"submit",className:"btn blue-bg default-clr",onClick:function(e){e.preventDefault(),o.email&&o.password&&o.confirmPassword&&a()},children:"Next"})})]})]})]})})};var k=function(e){var t=e.handleFormData,a=e.formData,s=e.incrementSteps,c=e.showValid,r=e.showInvalid,l=Object(n.useRef)(),o=Object(n.useRef)(),j=Object(n.useState)(!1),b=Object(i.a)(j,2),d=b[0],O=b[1],h=Object(n.useState)([]),f=Object(i.a)(h,2),x=f[0],g=f[1],w=Object(n.useState)([]),y=Object(i.a)(w,2),C=y[0],S=y[1];function k(){return(k=Object(m.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,"^(09|\\+639)\\d{9}$",c(t,o),!a.match("^(09|\\+639)\\d{9}$")){e.next=12;break}return c(t,l),O(!0),e.next=8,v.a.post("".concat(N.domain,"/validateMobileNumberIfTaken"),{mobileNumber:a});case 8:e.sent.data&&r(t,o),e.next=15;break;case 12:r(t,l),O(!1),t.target.value.length>11&&(n=t.target.value.substring(0,11),t.target.value=n,O(!0),r(t,l));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(m.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(d&&P(a.fullname)&&P(a.province)&&P(a.city)&&P(a.fullAddress))){e.next=8;break}return e.next=4,v.a.post("".concat(N.domain,"/createVerification"),{mobileNumber:a.mobileNumber});case 4:n=e.sent,c=n.data,console.log(c),s();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return e.length>0}return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(N.domain,"/philippines/provinces"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){g(e.data)}))}),[]),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"sign-up form-height",children:[Object(u.jsxs)("ol",{className:"steps",children:[Object(u.jsx)("li",{className:"stepOne",children:"1. Account"}),Object(u.jsx)("li",{className:"stepTwo blue-bg default-clr active",children:"2. Information"}),Object(u.jsx)("li",{className:"stepThree",children:"3. Confirmation"})]}),Object(u.jsxs)("div",{className:"form-wrapper",children:[Object(u.jsx)("div",{className:"form-title",children:Object(u.jsx)("span",{children:"Setup Personal Information"})}),Object(u.jsxs)("form",{className:"form-form",children:[Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Fullname"}),Object(u.jsx)("input",{type:"name",onChange:t,className:"input signin-input bg1",name:"fullname",required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Mobile number"}),Object(u.jsx)("input",{type:"number",className:"input bg1",onInput:function(e){return k.apply(this,arguments)},onChange:t,name:"mobileNumber",placeholder:"09XX XXX XXXX"}),Object(u.jsx)("span",{className:"error-message",ref:o,children:"Mobile Number already taken"}),Object(u.jsx)("span",{className:"error-message",ref:l,children:"Invalid mobile number"})]}),Object(u.jsx)("div",{className:"divider"}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Province"}),Object(u.jsxs)("select",{className:"bg1",onChange:function(e){var a=e.target.value;function n(){return(n=Object(m.a)(p.a.mark((function n(){var s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.get("".concat(N.domain,"/philippines/provinces/cities/").concat(a));case 2:s=n.sent,S(s.data),t(e);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()},name:"province",children:[Object(u.jsx)("option",{value:"",children:"Select Province"}),x.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.key)}))]})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"City"}),Object(u.jsxs)("select",{className:"bg1",onChange:t,name:"city",children:[Object(u.jsx)("option",{value:"",children:"Select City"}),C.map((function(e,t){return Object(u.jsx)("option",{value:e.name+" City",children:e.name+" City"},t)}))]})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Detailed address"}),Object(u.jsx)("textarea",{className:"bg1",onChange:t,name:"fullAddress"})]}),Object(u.jsx)("div",{className:"btn-wrapper",children:Object(u.jsx)("button",{type:"submit",className:"btn blue-bg default-clr",onClick:function(e){return I.apply(this,arguments)},children:"Next"})}),Object(u.jsx)("div",{className:"btn-wrapper"})]})]})]})})};var I=function(e){var t=e.formData,a=e.showValid,s=e.incrementSteps,c=Object(n.useState)(),r=Object(i.a)(c,2),l=r[0],o=r[1],j=Object(n.useRef)(),b=Object(n.useRef)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"sign-up",children:[Object(u.jsxs)("ol",{className:"steps",children:[Object(u.jsx)("li",{className:"stepOne",children:"1. Account"}),Object(u.jsx)("li",{className:"stepTwo",children:"2. Information"}),Object(u.jsx)("li",{className:"stepThree blue-bg default-clr active",children:"3. Confirmation"})]}),Object(u.jsxs)("div",{className:"form-wrapper",children:[Object(u.jsx)("div",{className:"form-title",children:Object(u.jsx)("span",{children:"Please enter 6-digit code we have sent to your mobile number."})}),Object(u.jsxs)("form",{className:"form-form",children:[Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"6 - Digit Code"}),Object(u.jsx)("input",{type:"number",ref:b,className:"input signin-input input-code bg1",onChange:function(e){o(e.target.value),a(e,j)},name:"code",onInput:function(e){var t=e.target;t.value.length>6&&(t.value=t.value.substring(0,6))},required:!0}),Object(u.jsx)("span",{className:"error-message",ref:j,children:"You entered a wrong code"})]}),Object(u.jsx)("div",{className:"btn-wrapper",children:Object(u.jsx)("button",{type:"submit",className:"btn blue-bg default-clr",onClick:function(e){e.preventDefault(),v.a.post("".concat(N.domain,"/verify"),{code:l,mobileNumber:t.mobileNumber}).then((function(e){"VERIFIED"===e.data?v.a.post("".concat(N.domain,"/signup"),t).then((function(e){s()})):function(e,t){var a={OUTLINE:"2px solid #db5248",DISPLAY:"inline"};Array.isArray(e)?e.forEach((function(e){e.style.outline=a.OUTLINE})):e.style.outline=a.OUTLINE;t.current.style.display=a.DISPLAY}(b.current,j)}))},children:"Confirm"})})]})]})]})})};var P=function(e){var t=Object(n.useState)(1),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(),l=Object(i.a)(r,2),o=l[0],j=l[1];function b(e,t){var a="2px solid #6BD382",n="NONE";Array.isArray(e)?e.forEach((function(e){e.style.outline=a})):e.target.style.outline=a,t.current.style.display=n}function d(e,t){var a="2px solid #db5248",n="inline";Array.isArray(e)?e.forEach((function(e){e.style.outline=a})):e.target.style.outline=a,t.current.style.display=n}function p(){c((function(e){return e+1}))}function m(e){var t=e.target,a=t.name,n=t.value;j((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},a,n))}))}switch(s){case 1:return Object(u.jsx)(S,{handleFormData:m,showValid:b,showInvalid:d,incrementSteps:p});case 2:return Object(u.jsx)(k,{handleFormData:m,showValid:b,showInvalid:d,incrementSteps:p,formData:o,children:" "});case 3:return Object(u.jsx)(I,{formData:o,showValid:b,incrementSteps:p});default:return Object(u.jsx)(x.a,{to:"/signin"})}},F=a(76),R=a.n(F),E=a.p+"static/media/social_distance.2b4f227f.svg",A=Object(n.createContext)(),D=function(e){var t=Object(n.useState)(!0),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useContext)(w),l=Object(i.a)(r,2),o=l[0],j=(l[1],Object(n.useState)({name:"NULL",qrCode:"NULL",fullAddress:" "})),b=Object(i.a)(j,2),d=b[0],O=b[1];return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(m.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("".concat(N.domain,"/user"),{},{withCredentials:!0});case 2:a=t.sent,n=a.data,localStorage.setItem("userId",JSON.stringify({id:n.id})),e&&O(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),c(!1),function(){e=!1}}),[o]),Object(u.jsx)(A.Provider,{value:[d,O],children:s?Object(u.jsx)(u.Fragment,{}):e.children})},J=Object(n.createContext)(),L=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1];return Object(u.jsx)(J.Provider,{value:[s,c],children:e.children})},q=Object(n.createContext)(),T=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1];return Object(u.jsx)(q.Provider,{value:[s,c],children:e.children})};var M=function(e){var t=e.setLoadingClass,a=Object(n.useContext)(A),s=Object(i.a)(a,2),c=s[0],r=(s[1],Object(n.useContext)(w)),l=Object(i.a)(r,2),o=(l[0],l[1]),j=Object(n.useContext)(J),b=Object(i.a)(j,2),d=b[0],O=b[1],h=Object(n.useContext)(q),f=Object(i.a)(h,2),g=f[0],y=f[1];function C(){return(C=Object(m.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("loading-wrapper"),e.prev=1,e.next=4,v.a.post("".concat(N.domain,"/client/generateQR"),{id:c.id},{withCredentials:!0});case 4:a=e.sent,n=a.data,t("hide"),"OK"===n&&o((function(e){return e+1})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return d?Object(u.jsx)(x.a,{to:"/dashboard/logs"}):g?Object(u.jsx)(x.a,{to:"/dashboard/profile"}):JSON.parse(localStorage.getItem("auth")).bool&&"Client"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsxs)("div",{className:"hero",children:[Object(u.jsx)("div",{className:"hero-text",children:Object(u.jsxs)("span",{className:"text",children:["Welcome ",Object(u.jsx)("br",{}),c.name]})}),Object(u.jsx)("div",{className:"hero-image",children:Object(u.jsx)("img",{src:E,alt:"social_distance"})})]}),Object(u.jsxs)("div",{className:"db-menu",children:[Object(u.jsx)("div",{className:"menu-selection bg1",onClick:function(){O(!0)},children:Object(u.jsx)("span",{children:"View Travel logs"})}),Object(u.jsx)("div",{className:"menu-selection bg1",onClick:function(){y(!0)},children:Object(u.jsx)("span",{children:"My Profile"})})]}),Object(u.jsxs)("div",{className:"qr",children:[Object(u.jsx)("span",{className:"title",children:"Scan Here"}),Object(u.jsx)("div",{className:"qr-code",children:Object(u.jsx)(R.a,{value:c.qrCode,size:190})}),Object(u.jsxs)("div",{className:"desc-wrapper",children:[" ",Object(u.jsx)("span",{className:"desc-text ",children:"You can screenshot the QR code if you are going out without internet connection. Just make sure you won\u2019t share it with others."})]}),Object(u.jsx)("div",{className:"generate",children:Object(u.jsx)("button",{type:"button",onClick:function(){return C.apply(this,arguments)},className:"generate-btn blue-bg default-clr btn",children:"Generate New QR Code"})})]}),Object(u.jsx)("div",{className:"create-org"})]}):Object(u.jsx)(x.a,{to:"/"})},V=a(77);var z=function(e){Object(f.a)(e);var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useContext)(w),l=Object(i.a)(r,2),o=l[0],j=(l[1],Object(n.useState)({room:"NONE"})),b=Object(i.a)(j,2),d=b[0],O=b[1],h=Object(n.useRef)();function g(){return(g=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(N.domain,"/room/createlog"),{qrCode:t,location:d.room});case 2:a=e.sent,"OK"===a.data&&(h.current.innerText="QR CODE SUCCESSFULLY SCANNED",setTimeout((function(){"/org/Scanner"===window.location.pathname&&(c(!1),h.current.innerText="Ready to Scan Again")}),3e3));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!1;function t(){return(t=Object(m.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("".concat(N.domain,"/user"),{},{withCredentials:!0});case 3:a=t.sent,n=a.data,e||O(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}}),[o]),JSON.parse(localStorage.getItem("auth")).bool&&"Scanner"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsxs)("div",{className:"scanner-db",children:[Object(u.jsxs)("div",{className:"scanner-info",children:[Object(u.jsx)("span",{className:"org",children:d.room}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"username",children:d.username})]}),Object(u.jsxs)("div",{className:"scanner-wrapper",children:[Object(u.jsx)("span",{ref:h,children:"Ready to Scan"}),Object(u.jsx)(V.a,{onScan:function(e){if(null!==e&&!1===s){var t=e.text;c(!0),function(e){g.apply(this,arguments)}(t)}},onError:function(){console.log("ERROR")},className:"scanner"}),Object(u.jsx)("div",{className:""})]})]}):Object(u.jsx)(x.a,{to:"/"})};var U=function(){var e=Object(n.useContext)(w),t=Object(i.a)(e,2),a=(t[0],t[1]),s=Object(n.useState)({}),c=Object(i.a)(s,2),r=c[0],l=c[1],o=Object(n.useRef)();function j(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},a,n))}))}function b(){return(b=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("".concat(N.domain,"/room/signin"),r,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000"},withCredentials:!0});case 3:"OK"===e.sent.data.message?(localStorage.setItem("auth",JSON.stringify({bool:!0,role:"Scanner"})),a((function(e){return e+1}))):o.current.style.display="inline",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return JSON.parse(localStorage.getItem("auth")).bool||"Scanner"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsx)(x.a,{to:"/org/Scanner"}):Object(u.jsx)("div",{className:"sign-in",children:Object(u.jsxs)("div",{className:"form-wrapper",children:[Object(u.jsx)("div",{className:"form-title",children:Object(u.jsx)("span",{children:"QR Scanner"})}),Object(u.jsxs)("form",{className:"form-form",children:[Object(u.jsx)("span",{className:"error-message warn",ref:o,children:"Invalid username or password"}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Username"}),Object(u.jsx)("input",{type:"text",name:"username",className:"input signin-input bg1",onChange:j,required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",className:"input signin-input bg1",onChange:j,required:!0})]}),Object(u.jsx)("div",{className:"no-account"}),Object(u.jsx)("div",{className:"btn-wrapper",children:Object(u.jsx)("button",{type:"button",onClick:function(){return b.apply(this,arguments)},className:"btn blue-bg default-clr",children:"Sign In"})})]})]})})},X=Object(n.createContext)(),K=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1];return Object(u.jsx)(X.Provider,{value:[s,c],children:e.children})};var W=function(){var e=Object(n.useState)("form-wrapper fixed-pos default-bg hide"),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)("form-wrapper fixed-pos default-bg hide"),r=Object(i.a)(c,2),l=r[0],o=r[1],j=Object(n.useContext)(w),b=Object(i.a)(j,2),d=b[0],f=(b[1],Object(n.useContext)(X)),g=Object(i.a)(f,2),y=g[0],C=g[1],S=Object(n.useContext)(J),k=Object(i.a)(S,2),I=k[0],P=k[1],F=Object(n.useState)(""),R=Object(i.a)(F,2),A=R[0],D=R[1],L=Object(n.useState)({}),q=Object(i.a)(L,2),T=q[0],M=q[1],V=Object(n.useState)([]),z=Object(i.a)(V,2),U=z[0],K=z[1],W=Object(n.useState)(""),Y=Object(i.a)(W,2),B=Y[0],G=Y[1],Q=Object(n.useRef)();function $(){s("form-wrapper fixed-pos default-bg hide"),H()}function _(){o("form-wrapper fixed-pos default-bg hide add-height"),H()}function Z(){Q.current.style.opacity="0.2"}function H(){Q.current.style.opacity="1"}function ee(e){var t=e.target,a=t.name,n=t.value;M((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},a,n))})),console.log(T)}function te(){return(te=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(N.domain,"/room/createroom"),{room:A});case 2:t=e.sent,t.data,G(A),$();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v.a.post("".concat(N.domain,"/room/signup"),T);case 3:a=e.sent,a.data,_();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(m.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("".concat(N.domain,"/room/fetchrooms"));case 2:a=t.sent,n=a.data,e&&K(n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[B]),Object(n.useEffect)((function(){}),[d]),y?Object(u.jsx)(x.a,{to:"/admin/reports"}):I?Object(u.jsx)(x.a,{to:"/admin/logs"}):JSON.parse(localStorage.getItem("auth")).bool&&"Admin"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"dashboard",ref:Q,children:[Object(u.jsxs)("div",{className:"hero",children:[Object(u.jsx)("div",{className:"hero-text",children:Object(u.jsxs)("span",{className:"text",children:["Welcome ",Object(u.jsx)("br",{})," Admin"]})}),Object(u.jsx)("div",{className:"hero-image",children:Object(u.jsx)("img",{src:E,alt:"social_distance"})})]}),Object(u.jsxs)("div",{className:"db-menu",children:[Object(u.jsx)("div",{className:"menu-selection bg1",onClick:function(){C(!0)},children:Object(u.jsx)("span",{children:"View Reports"})}),Object(u.jsx)("div",{className:"menu-selection bg1",onClick:function(){P(!0)},children:Object(u.jsx)("span",{children:"View Logs"})}),Object(u.jsx)("div",{className:"menu-selection bg1",onClick:function(){s("form-wrapper fixed-pos default-bg"),Z()},children:Object(u.jsx)("span",{children:"Add Room"})}),Object(u.jsx)("div",{className:"menu-selection bg1",onClick:function(){o("form-wrapper fixed-pos default-bg add-height"),Z()},children:Object(u.jsx)("span",{children:"Scanner Account"})})]})]}),Object(u.jsxs)("div",{className:a,children:[Object(u.jsx)("div",{className:"form-title org-form-title",children:Object(u.jsx)("span",{children:"Create Room"})}),Object(u.jsxs)("form",{className:"form-form org-form",children:[Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"org",children:"Room Name"}),Object(u.jsx)("input",{type:"name",className:"input signin-input bg1",name:"room",onChange:function(e){D(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"btn-wrapper org-btn-wrapper",children:[Object(u.jsx)("button",{type:"button",className:"btn blue-bg default-clr",onClick:function(){return te.apply(this,arguments)},children:"Create"}),Object(u.jsx)("button",{type:"button",className:"btn bg1",onClick:$,children:"Cancel"})]})]})]}),Object(u.jsxs)("div",{className:l,children:[Object(u.jsx)("div",{className:"form-title org-form-title",children:Object(u.jsx)("span",{children:"Create Scanner Account"})}),Object(u.jsxs)("form",{className:"form-form org-form",onSubmit:function(e){return ae.apply(this,arguments)},children:[Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"username",children:"Username"}),Object(u.jsx)("input",{type:"text",className:"input signin-input bg1",name:"username",onChange:ee,required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",className:"input signin-input bg1",name:"password",onChange:ee,required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"org",children:"Room"}),Object(u.jsxs)("select",{className:"bg1",name:"room",onChange:ee,children:[Object(u.jsx)("option",{value:"",children:"Select Organization"}),U.map((function(e){return Object(u.jsx)("option",{value:e.room,children:e.room},e._id)}))]})]}),Object(u.jsxs)("div",{className:"btn-wrapper org-btn-wrapper",children:[Object(u.jsx)("button",{type:"submit",className:"btn blue-bg default-clr",children:"Create"}),Object(u.jsx)("button",{type:"button",className:"btn bg1",onClick:_,children:"Cancel"})]})]})]})]}):Object(u.jsx)(x.a,{to:"/"})};var Y=function(){var e=Object(n.useContext)(w),t=Object(i.a)(e,2),a=(t[0],t[1]),s=Object(n.useState)({}),c=Object(i.a)(s,2),r=c[0],l=c[1],o=Object(n.useRef)();function j(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},a,n))}))}function b(){return(b=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("".concat(N.domain,"/admin/signin"),r,{headers:{"Content-Type":"application/json"},withCredentials:!0});case 3:"OK"===e.sent.data.message?(localStorage.setItem("auth",JSON.stringify({bool:!0,role:"Admin"})),a((function(e){return e+1}))):o.current.style.display="inline",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return JSON.parse(localStorage.getItem("auth")).bool||"Admin"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsx)(x.a,{to:"/admin/dashboard"}):Object(u.jsx)("div",{className:"sign-in",children:Object(u.jsxs)("div",{className:"form-wrapper",children:[Object(u.jsx)("div",{className:"form-title",children:Object(u.jsx)("span",{children:"Administrator"})}),Object(u.jsxs)("form",{className:"form-form",children:[Object(u.jsx)("span",{className:"error-message warn",ref:o,children:"Invalid username or password"}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Username"}),Object(u.jsx)("input",{type:"text",name:"username",className:"input signin-input bg1",onChange:j,required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",className:"input signin-input bg1",onChange:j,required:!0})]}),Object(u.jsx)("div",{className:"no-account"}),Object(u.jsx)("div",{className:"btn-wrapper",children:Object(u.jsx)("button",{type:"button",onClick:function(){return b.apply(this,arguments)},className:"btn blue-bg default-clr",children:"Sign In"})})]})]})})},B=a(22);function G(e){var t=e.log,a=e.user,s=e.setLastReported,c=Object(n.useState)({}),r=Object(i.a)(c,2),l=(r[0],r[1]),o=Object(n.useState)("report-modal bg1 hide"),j=Object(i.a)(o,2),b=j[0],d=j[1];function O(){return(O=Object(m.a)(p.a.mark((function e(){var n,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:a.id,name:a.name,logId:t.id,location:t.location,time:"".concat(t.day,", ").concat(t.time,", ").concat(t.month)},e.next=3,v.a.post("".concat(N.domain,"/client/report"),n);case 3:c=e.sent,r=c.data,console.log(r),s(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){JSON.parse(localStorage.getItem("auth")).bool&&"Client"===JSON.parse(localStorage.getItem("auth")).role&&l(t)}),[]),t.isReported?Object(u.jsxs)("li",{className:"travel-log-list bg1",children:[Object(u.jsx)("span",{className:"location",children:t.location}),Object(u.jsx)("span",{className:"time",children:"".concat(t.day,", ").concat(t.time,", ").concat(t.month)}),Object(u.jsx)("span",{className:"warn",children:"Report had been sent."})]}):Object(u.jsxs)("li",{className:"travel-log-list bg1",children:[Object(u.jsx)("span",{className:"location",children:t.location}),Object(u.jsx)("span",{className:"time",children:"".concat(t.day,", ").concat(t.time,", ").concat(t.month)}),Object(u.jsx)("span",{className:"not-me warn-bg default-clr",onClick:function(){d("report-modal bg1")},children:"Report"}),Object(u.jsxs)("div",{className:b,children:[Object(u.jsx)("div",{className:"report-modal-header warn-bg",children:Object(u.jsx)("span",{className:"default-clr",children:"Confirmation"})}),Object(u.jsxs)("div",{className:"report-prompt",children:[Object(u.jsx)("span",{className:"report-message",children:"Are you sure, you want to report this is activity?"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"confirm modal-btn warn",onClick:function(){return O.apply(this,arguments)},children:"Confirm"}),Object(u.jsx)("span",{className:"cancel modal-btn  ok-text",onClick:function(){d("report-modal bg1 hide")},children:"Cancel"})]})]})]})]})}var Q=function(e){var t=e.setLoadingClass,a=Object(n.useContext)(A),s=Object(i.a)(a,2),c=s[0],r=(s[1],Object(n.useContext)(w)),l=Object(i.a)(r,2),o=(l[0],l[1],Object(n.useContext)(J)),j=Object(i.a)(o,2),b=j[0],d=j[1],O=Object(n.useState)({}),h=Object(i.a)(O,2),f=h[0],g=h[1],y=Object(n.useState)([]),C=Object(i.a)(y,2),S=C[0],k=C[1];return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(m.a)(p.a.mark((function a(){var n,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t("loading-wrapper"),a.prev=1,a.next=4,v.a.post("".concat(N.domain,"/client/fetchlogs"),JSON.parse(localStorage.getItem("userId")));case 4:n=a.sent,s=n.data,t("hide loading-wrapper"),e&&k(s),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!1}}),[f]),b?JSON.parse(localStorage.getItem("auth")).bool&&"Client"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"back-buttons"}),Object(u.jsxs)("div",{className:"travel-logs",children:[Object(u.jsxs)("div",{className:"title-wrapper",children:[Object(u.jsx)("span",{className:"title-text",children:"Travel Logs"}),Object(u.jsx)("span",{className:"back-btn blue-clr",onClick:function(){d(!1)},children:Object(u.jsx)(B.a,{})})]}),Object(u.jsx)("div",{className:"travel-logs-wrapper",children:Object(u.jsx)("ul",{className:"travel-log-lists",children:S.map((function(e,t){return Object(u.jsx)(G,{log:e,setLastReported:g,user:c},t)}))})})]})]}):Object(u.jsx)(x.a,{to:"/"}):Object(u.jsx)(x.a,{to:"/dashboard"})},$=(a(114),a(26));var _=function(e){var t=Object(n.useContext)(w),a=Object(i.a)(t,2),s=(a[0],a[1]);function c(){return(c=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(N.domain,"/logout"),{},{withCredentials:!0});case 2:t=e.sent,t.data,localStorage.setItem("auth",JSON.stringify({bool:!1,role:"NONE"})),localStorage.removeItem("userId"),s((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsx)("header",{className:"nav-header blue-bg",children:Object(u.jsx)("div",{className:"logout",children:Object(u.jsx)("span",{className:"default-clr",onClick:function(){return c.apply(this,arguments)},children:Object(u.jsx)($.b,{})})})})};function Z(e){var t=e.report;return Object(u.jsx)("li",{children:Object(u.jsxs)("details",{children:[Object(u.jsx)("summary",{className:"report-summary",children:"".concat(t.reporter," reported an activity")}),Object(u.jsx)("p",{className:"summary-text warn",children:t.reportText})]})})}var H=function(e){var t=e.setLoadingClass,a=Object(n.useState)([]),s=Object(i.a)(a,2),c=s[0],r=s[1],l=Object(n.useContext)(X),o=Object(i.a)(l,2),j=o[0],b=o[1];return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(m.a)(p.a.mark((function a(){var n,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t("loading-wrapper"),a.next=3,v.a.post("".concat(N.domain,"/admin/reports"),{});case 3:n=a.sent,s=n.data,t("hide"),e&&r(s);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!1}}),[]),j?JSON.parse(localStorage.getItem("auth")).bool&&"Admin"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsxs)("div",{className:"reports",children:[Object(u.jsxs)("div",{className:"title-wrapper",children:[Object(u.jsx)("span",{className:"title-text",children:"Reports"}),Object(u.jsx)("span",{className:"back-btn",onClick:function(){b(!1)},children:Object(u.jsx)(B.a,{})})]}),Object(u.jsx)("div",{className:"all-reports",children:Object(u.jsx)("ul",{children:c.map((function(e,t){return Object(u.jsx)(Z,{report:e},t)}))})})]}):Object(u.jsx)(x.a,{to:"/dashboard"}):Object(u.jsx)(x.a,{to:"/admin/dashboard"})};function ee(e,t){var a="2px solid #6BD382",n="NONE";Array.isArray(e)?e.forEach((function(e){e.style.outline=a})):e.target.style.outline=a,t.current.style.display=n}function te(e,t){var a="2px solid #db5248",n="inline";Array.isArray(e)?e.forEach((function(e){e.style.outline=a})):e.target.style.outline=a,t.current.style.display=n}function ae(e){var t=e.Class,a=e.setGeneralInfoModal,s=e.fetchSession,c=(e.user,Object(n.useState)(JSON.parse(localStorage.getItem("userId")))),r=Object(i.a)(c,2),l=r[0],o=r[1],j=Object(n.useState)([]),b=Object(i.a)(j,2),d=b[0],f=b[1],x=Object(n.useState)([]),g=Object(i.a)(x,2),w=g[0],y=g[1],C=Object(n.useRef)();function S(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},a,n))}))}function k(){return(k=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v.a.patch("".concat(N.domain,"/client/updategeneral"),l,{withCredentials:!0});case 3:a=e.sent,a.data,I(),s((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){a("hide max profile-modal")}function P(){return(P=Object(m.a)(p.a.mark((function e(t){var a,n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(){return(s=Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(N.domain,"/philippines/provinces/cities/").concat(a));case 2:n=e.sent,y(n.data),S(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return s.apply(this,arguments)},a=t.target.value,n();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(N.domain,"/philippines/provinces"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){f(e.data)}))}),[]),Object(u.jsxs)("div",{className:t,children:[Object(u.jsx)("div",{className:"form-title org-form-title",children:Object(u.jsx)("span",{children:"Edit General Info"})}),Object(u.jsxs)("form",{className:"form-form org-form",onSubmit:function(e){return k.apply(this,arguments)},children:[Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"name",children:"Fullname"}),Object(u.jsx)("input",{type:"name",className:"input signin-input bg1",name:"fullname",onChange:S,required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"Province",children:"Province"}),Object(u.jsxs)("select",{className:"bg1",name:"province",onChange:function(e){return P.apply(this,arguments)},required:!0,children:[Object(u.jsx)("option",{value:"",children:"Select Province"}),d.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.key)}))]})]}),Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"Province",children:"City"}),Object(u.jsx)("select",{className:"bg1",ref:C,name:"city",onChange:S,required:!0,children:w.map((function(e,t){return Object(u.jsx)("option",{value:e.name+" City",children:e.name+" City"},t)}))})]}),Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"address",children:"Detailed address"}),Object(u.jsx)("textarea",{className:"bg1",onChange:S,name:"fullAddress",required:!0})]}),Object(u.jsxs)("div",{className:"btn-wrapper org-btn-wrapper",children:[Object(u.jsx)("button",{type:"submit",className:"btn blue-bg default-clr btn-font-size",children:"Save"}),Object(u.jsx)("button",{type:"button",onClick:I,className:"btn bg1 btn-font-size",children:"Cancel"})]})]})]})}function ne(e){var t=e.user,a=e.fetchSession,s=e.setMobileInfoModal,c=e.mobileInfoModalClass,r=Object(n.useState)(1),l=Object(i.a)(r,2),o=l[0],j=l[1],b=Object(n.useState)(!1),d=Object(i.a)(b,2),O=d[0],h=d[1],f=Object(n.useState)(),x=Object(i.a)(f,2),g=x[0],w=x[1],y=Object(n.useState)(),C=Object(i.a)(y,2),S=C[0],k=C[1],I=Object(n.useRef)(),P=Object(n.useRef)(),F=Object(n.useRef)();function R(){s("show max profile-modal modal-height")}function E(){return(E=Object(m.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,"^(09|\\+639)\\d{9}$",!a.match("^(09|\\+639)\\d{9}$")){e.next=11;break}return h(!0),ee(t,I),e.next=7,v.a.post("".concat(N.domain,"/validateMobileNumberIfTaken"),{mobileNumber:a});case 7:e.sent.data&&te(t,I),e.next=14;break;case 11:h(!1),te(t,I),t.target.value.length>11&&(n=t.target.value.substring(0,11),t.target.value=n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=8;break}return console.log(g),e.next=4,v.a.post("".concat(N.domain,"/createVerification"),{mobileNumber:g});case 4:t=e.sent,a=t.data,console.log(a),j((function(e){return e+1}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){var a="2px solid #db5248",n="inline";Array.isArray(e)?e.forEach((function(e){e.style.outline=a})):e.style.outline=a,t.current.style.display=n}function J(){return(J=Object(m.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v.a.post("".concat(N.domain,"/verify"),{code:S,mobileNumber:g}).then(function(){var e=Object(m.a)(p.a.mark((function e(n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("VERIFIED"!==n.data){e.next=9;break}return e.next=3,v.a.put("".concat(N.domain,"/client/newmobile"),{id:t.id,mobileNumber:g},{withCredentials:!0});case 3:s=e.sent,s.data,a((function(e){return e+1})),R(),e.next=10;break;case 9:D(F.current,P);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){s("hide max profile-modal modal-height")}return 1===o?Object(u.jsxs)("div",{className:c,children:[Object(u.jsx)("div",{className:"form-title org-form-title",children:Object(u.jsx)("span",{children:"New Mobile Number"})}),Object(u.jsxs)("form",{className:"form-form org-form",children:[Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"name",children:"Enter New Mobile Number"}),Object(u.jsx)("span",{className:"error-message",ref:I,children:"Invalid mobile number"}),Object(u.jsx)("input",{type:"number",className:"input signin-input bg1",name:"mobileNumber",onChange:function(e){w(e.target.value)},onInput:function(e){return E.apply(this,arguments)},required:!0})]}),Object(u.jsxs)("div",{className:"btn-wrapper org-btn-wrapper",children:[Object(u.jsx)("button",{type:"button",className:"btn blue-bg default-clr btn-font-size",onClick:function(){return A.apply(this,arguments)},children:"Next"}),Object(u.jsx)("button",{type:"button",className:"btn bg1 btn-font-size",onClick:R,children:"Cancel"})]})]})]}):Object(u.jsxs)("div",{className:c,children:[Object(u.jsx)("div",{className:"form-title org-form-title",children:Object(u.jsx)("span",{children:"Confirmation"})}),Object(u.jsxs)("form",{className:"form-form org-form",onSubmit:function(e){return J.apply(this,arguments)},children:[Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("span",{className:"error-message",ref:P,children:"Invalid code"}),Object(u.jsx)("label",{className:"",htmlFor:"name",children:"Enter 6 - Digit Code"}),Object(u.jsx)("input",{type:"number",className:"input signin-input bg1",name:"mobileNumber",ref:F,onChange:function(e){k(e.target.value)},onInput:function(e){var t=e.target;t.value.length>6&&(t.value=t.value.substring(0,6))},required:!0})]}),Object(u.jsxs)("div",{className:"btn-wrapper org-btn-wrapper",children:[Object(u.jsx)("button",{type:"submit",className:"btn blue-bg default-clr btn-font-size",children:"Confirm"}),Object(u.jsx)("button",{type:"button",className:"btn bg1 btn-font-size",onClick:R,children:"Cancel"})]})]})]})}function se(e){var t=e.Class,a=e.setPasswordInfoModal,s=e.user,c=Object(n.useState)({isOldPasswordCorrect:!1,isNewPasswordValid:!1}),r=Object(i.a)(c,2),l=r[0],o=r[1],j=Object(n.useState)(),b=Object(i.a)(j,2),d=b[0],O=b[1],f=Object(n.useState)(),x=Object(i.a)(f,2),g=x[0],w=x[1],y=Object(n.useRef)(),C=Object(n.useRef)(),S=Object(n.useRef)();function k(){a("hide max profile-modal modal-height")}var I=Object(n.useRef)();function P(){return(P=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(N.domain,"/client/password"),{id:s.id,password:d});case 2:a=e.sent,"OK"===a.data?(o((function(e){return Object(h.a)(Object(h.a)({},e),{},{isOldPasswordCorrect:!0})})),ee(t,S)):(o((function(e){return Object(h.a)(Object(h.a)({},e),{},{isOldPasswordCorrect:!1})})),te(t,S));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!l.isNewPasswordValid||!l.isOldPasswordCorrect){e.next=7;break}return e.next=4,v.a.post("".concat(N.domain,"/client/savepassword"),{id:s.id,password:g});case 4:a=e.sent,"OK"===a.data&&k();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:t,children:[Object(u.jsx)("div",{className:"form-title org-form-title",children:Object(u.jsx)("span",{children:"Change Password"})}),Object(u.jsxs)("form",{className:"form-form org-form",onSubmit:function(e){return F.apply(this,arguments)},children:[Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("span",{className:"error-message",ref:S,children:"Incorrect Password."}),Object(u.jsx)("label",{className:"",htmlFor:"name",children:"Old Password"}),Object(u.jsx)("input",{type:"password",className:"input signin-input bg1",onChange:function(e){O(e.target.value)},onBlur:function(e){return P.apply(this,arguments)},name:"old",required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("span",{className:"error-message",ref:y,children:"Password must be atleast 8 characters or longer."}),Object(u.jsx)("span",{className:"error-message",ref:C,children:"Passwords are not the same."}),Object(u.jsx)("label",{className:"",htmlFor:"name",children:"New Password"}),Object(u.jsx)("input",{type:"password",className:"input signin-input bg1",name:"newPassword",onChange:function(e){w(e.target.value)},ref:I,onInput:function(e){e.target.value.length>=8?(ee(e,y),o((function(e){return Object(h.a)(Object(h.a)({},e),{},{isNewPasswordValid:!0})}))):(te(e,y),o((function(e){return Object(h.a)(Object(h.a)({},e),{},{isNewPasswordValid:!1})})))},required:!0})]}),Object(u.jsxs)("div",{className:"input-wrapper org-input-wrapper",children:[Object(u.jsx)("label",{className:"",htmlFor:"name",children:"Confirm New Password"}),Object(u.jsx)("input",{type:"password",className:"input signin-input bg1",name:"confirmPass",onInput:function(e){var t=e.target,a=[t,I.current];I.current.value===t.value?(ee(a,C),o((function(e){return Object(h.a)(Object(h.a)({},e),{},{isNewPasswordValid:!0})}))):(te(a,C),o((function(e){return Object(h.a)(Object(h.a)({},e),{},{isNewPasswordValid:!1})})))},required:!0})]}),Object(u.jsxs)("div",{className:"btn-wrapper org-btn-wrapper",children:[Object(u.jsx)("button",{type:"submit",className:"btn blue-bg default-clr btn-font-size",children:"Save"}),Object(u.jsx)("button",{type:"button",onClick:k,className:"btn bg1 btn-font-size",children:"Cancel"})]})]})]})}var ce=function(){var e=Object(n.useContext)(A),t=Object(i.a)(e,2),a=t[0],s=(t[1],Object(n.useContext)(w)),c=Object(i.a)(s,2),r=(c[0],c[1]),l=Object(n.useState)("hide max profile-modal"),o=Object(i.a)(l,2),j=o[0],b=o[1],d=Object(n.useState)("hide max profile-modal modal-height"),p=Object(i.a)(d,2),m=p[0],O=p[1],h=Object(n.useState)("hide max profile-modal modal-height"),f=Object(i.a)(h,2),g=f[0],v=f[1],N=Object(n.useContext)(q),y=Object(i.a)(N,2),C=y[0],S=y[1];return C?JSON.parse(localStorage.getItem("auth")).bool&&"Client"===JSON.parse(localStorage.getItem("auth")).role?Object(u.jsxs)("div",{className:"profile-wrapper",children:[Object(u.jsxs)("div",{className:"travel-logs profile",children:[Object(u.jsxs)("div",{className:"title-wrapper",children:[Object(u.jsx)("span",{className:"title-text",children:"Profile"}),Object(u.jsx)("span",{className:"back-btn blue-clr",onClick:function(){S(!1)},children:Object(u.jsx)(B.a,{})})]}),Object(u.jsxs)("div",{className:"user-details",children:[Object(u.jsxs)("div",{className:"general-info bg1",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"General"}),Object(u.jsx)("span",{children:a.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"inline",children:a.province+", "}),Object(u.jsx)("span",{className:"inline",children:a.city})]}),Object(u.jsx)("span",{children:a.fullAddress})]}),Object(u.jsx)("div",{className:"edit-wrapper",children:Object(u.jsx)("span",{className:"inline ",onClick:function(){b("show max profile-modal")},children:Object(u.jsx)($.a,{})})})]}),Object(u.jsxs)("div",{className:"important-info bg1",children:[Object(u.jsxs)("div",{className:"info-wrapper",children:[Object(u.jsx)("label",{children:"Mobile #"}),Object(u.jsx)("span",{className:"important",children:a.mobileNumber})]}),Object(u.jsx)("div",{className:"edit-wrapper",children:Object(u.jsx)("span",{className:"inline ",onClick:function(){O("show max profile-modal modal-height")},children:Object(u.jsx)($.a,{})})})]}),Object(u.jsxs)("div",{className:"important-info bg1",children:[Object(u.jsxs)("div",{className:"info-wrapper",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("span",{className:"important",children:"Change Password"})]}),Object(u.jsx)("div",{className:"edit-wrapper",children:Object(u.jsx)("span",{className:"inline",onClick:function(){v("show max profile-modal modal-height")},children:Object(u.jsx)($.a,{})})})]})]})]}),Object(u.jsx)(ae,{Class:j,user:a,fetchSession:r,setGeneralInfoModal:b}),Object(u.jsx)(ne,{user:a,fetchSession:r,mobileInfoModalClass:m,setMobileInfoModal:O}),Object(u.jsx)(se,{user:a,Class:g,setPasswordInfoModal:v})]}):Object(u.jsx)(x.a,{to:"/"}):Object(u.jsx)(x.a,{to:"/dashboard"})},re=(a(115),a(116),a(78)),ie=a.n(re);a(117);function le(e){var t=e.log;e.user,e.setLastReported;return Object(u.jsx)("li",{className:"admin-logs-list",children:Object(u.jsxs)("details",{className:"admin-log-list",children:[Object(u.jsx)("summary",{className:"report-summary",children:t.name}),Object(u.jsx)("span",{className:"summary-text time ok-text",children:"User ID : "+t.userId}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"summary-text time ok-text",children:"Contact #: "+t.mobileNumber}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"summary-text time ok-text",children:"".concat(t.day,", ").concat(t.time,", ").concat(t.month," - ").concat(t.location)})]})})}var oe=function(e){var t=e.setLoadingClass,a=Object(n.useState)([]),s=Object(i.a)(a,2),c=s[0],r=s[1],l=Object(n.useContext)(J),o=Object(i.a)(l,2),j=o[0],b=o[1],d=Object(n.useState)([]),O=Object(i.a)(d,2),h=O[0],f=O[1],g=Object(n.useState)(new Date),w=Object(i.a)(g,2),y=w[0],C=w[1],S=Object(n.useState)(""),k=Object(i.a)(S,2),I=k[0],P=k[1];return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(m.a)(p.a.mark((function a(){var n,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t("loading-wrapper"),a.prev=1,a.next=4,v.a.post("".concat(N.domain,"/admin/logs"),{});case 4:n=a.sent,s=n.data,t("hide"),e&&r(s),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}function n(){return(n=Object(m.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("".concat(N.domain,"/room/fetchrooms"));case 2:a=t.sent,n=a.data,e&&f(n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){e=!1}}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(N.domain,"/admin/logs/").concat(y,"/").concat(I),{});case 2:t=e.sent,(a=t.data).length>0&&r(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}I.length>0&&function(){e.apply(this,arguments)}()}),[I]),j?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"back-buttons"}),Object(u.jsxs)("div",{className:"travel-logs",children:[Object(u.jsxs)("div",{className:"title-wrapper",children:[Object(u.jsx)("span",{className:"title-text",children:"Student Logs"}),Object(u.jsx)("span",{className:"back-btn",onClick:function(){b(!1)},children:Object(u.jsx)(B.a,{})})]}),Object(u.jsxs)("div",{className:"filters",children:[Object(u.jsx)("label",{children:"Filters"}),Object(u.jsx)(ie.a,{selected:y,onChange:function(e){console.log(e),C(e)},className:"date-picker bg1"}),Object(u.jsx)("div",{className:"input-wrapper",children:Object(u.jsxs)("select",{className:"bg1",name:"Room",onChange:function(e){P(e.target.value)},children:[Object(u.jsx)("option",{children:"Select room"}),h.map((function(e){return Object(u.jsx)("option",{value:e.room,children:e.room},e._id)}))]})})]}),Object(u.jsx)("div",{className:"all-reports",children:Object(u.jsx)("ul",{className:"travel-log-lists admin-logs",children:c.map((function(e,t){return Object(u.jsx)(le,{log:e},t)}))})})]})]}):Object(u.jsx)(x.a,{to:"/admin/dashboard"})},je=a.p+"static/media/loading.238bc502.svg";var ue=function(e){var t=e.Class;return Object(u.jsx)("div",{className:t,children:Object(u.jsx)("img",{src:je,alt:"loading"})})};a.p;var be=function(){var e=Object(n.useState)("hide"),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(ue,{Class:a}),Object(u.jsx)(x.d,{children:Object(u.jsx)(y,{children:Object(u.jsxs)(D,{children:[Object(u.jsx)(L,{children:Object(u.jsxs)(T,{children:[Object(u.jsxs)(x.d,{children:[Object(u.jsx)(x.b,{path:"/signin",children:Object(u.jsx)(C,{})}),Object(u.jsx)(x.b,{path:"/signup",children:Object(u.jsx)(P,{})}),Object(u.jsx)(x.b,{path:"/",exact:!0,component:b})]}),Object(u.jsxs)(x.d,{children:[Object(u.jsx)(x.b,{path:"/dashboard/logs",children:Object(u.jsx)(Q,{setLoadingClass:s})}),Object(u.jsx)(x.b,{path:"/dashboard/profile",children:Object(u.jsx)(ce,{})}),Object(u.jsxs)(x.b,{path:"/dashboard",children:[Object(u.jsx)(_,{}),Object(u.jsx)(M,{setLoadingClass:s})]})]})]})}),Object(u.jsxs)(x.d,{children:[Object(u.jsxs)(x.b,{path:"/org/scanner",children:[Object(u.jsx)(_,{}),Object(u.jsx)(z,{})]}),Object(u.jsx)(x.b,{path:"/org",children:Object(u.jsx)(U,{})})]}),Object(u.jsx)(x.d,{children:Object(u.jsx)(K,{children:Object(u.jsxs)(L,{children:[Object(u.jsx)(x.b,{path:"/admin/reports",children:Object(u.jsx)(H,{setLoadingClass:s})}),Object(u.jsxs)(x.b,{path:"/admin/dashboard",children:[Object(u.jsx)(_,{}),Object(u.jsx)(W,{})]}),Object(u.jsx)(x.b,{path:"/admin/logs",children:Object(u.jsx)(oe,{setLoadingClass:s})}),Object(u.jsx)(x.b,{path:"/admin",children:Object(u.jsx)(Y,{})})]})})})]})})})]})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,192)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(be,{})}),document.getElementById("root")),de()},47:function(e,t,a){},84:function(e,t,a){}},[[190,1,2]]]);
//# sourceMappingURL=main.1915af90.chunk.js.map